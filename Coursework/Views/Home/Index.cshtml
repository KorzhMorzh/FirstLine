@{
    ViewBag.Title = "Home Page";
}

<div class="row" style="margin-top: 10px">
    <div class="row" style="width: 100%">
        <div class="col-lg-3">
            <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                <a class="nav-link active" id="v-pills-text-tab" data-toggle="pill" href="#v-pills-text" role="tab" aria-controls="v-pills-text" aria-selected="true">Text</a>
                <a class="nav-link" id="v-pills-upload-tab" data-toggle="pill" href="#v-pills-upload" role="tab" aria-controls="v-pills-upload" aria-selected="false">Upload</a>
            </div>
        </div>
        <div class="col-lg-9">
            <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="v-pills-text" role="tabpanel" aria-labelledby="v-pills-text-tab">
                    @using (Html.BeginForm("Calculate", "Home", FormMethod.Post))
                    {
                        <div class="row" style="width: auto">
                            <div class="col-lg-9" style="margin-top: 5px">
                                <label class="">Text</label>
                                <textarea class="form-control rounded-0 mb-3" name="Text" required rows="10"
                                          cols="10" maxlength="20000" placeholder="Enter the text">@ViewBag.text</textarea>
                            </div>
                            <div class="col-lg-3 align-content-center">
                                <div style="margin-top: 5px">
                                    <label>Key</label>
                                    <input name="Key" class="form-control" placeholder="Enter the key"
                                           value="@ViewBag.key" pattern="^[А-Яа-яЁё]+$" oninput="this.setCustomValidity('')"
                                           oninvalid="this.setCustomValidity('The key must contain only Russian letters and consist of one word')" required/>
                                </div>
                                <div>
                                    <div class="form-check">
                                        <label class="form-check-label">
                                            <input class="form-check-input" name="IsEncrypted" value="false" type="radio" checked="checked">Decode
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <label class="form-check-label">
                                            <input class="form-check-input" name="IsEncrypted" value="true" type="radio">Encode
                                        </label>
                                    </div>
                                </div>
                                <div>
                                    <input type="submit" class="btn btn-secondary" value="Calculate"/>
                                </div>
                            </div>
                        </div>
                    }
                    @using (Html.BeginForm("Download", "Home"))
                    {
                        if (@ViewBag.Result != null)
                        {
                            <label>Result</label>
                            <div class="col-lg-9" style="margin-top: 5px">
                                <textarea readonly class="form-control-plaintext" name="Result"
                                          style="min-height: 200px; white-space: pre-line">@ViewBag.result</textarea>
                            </div>
                            <div style="margin-top: 5px; margin-right: 100px">
                                <button name="Download">Download</button>
                            </div>
                        }
                    }
                </div>
                <div class="tab-pane fade" id="v-pills-upload" role="tabpanel" aria-labelledby="v-pills-upload-tab">
                    @{
                        ViewBag.Title = "Upload";
                    }
                    @using (Html.BeginForm("Upload", "Home", FormMethod.Post, new {enctype = "multipart/form-data"}))
                    {
                        <div class="row">
                            <div class="col-lg-4">
                                <label class="">Upload file</label><br/>
                                <form>
                                    <input type="file" name="upload" id="upload" class="form-control-file" required
                                           accept="application/vnd.openxmlformats-officedocument.wordprocessingml.document">
                                </form>
                            </div>


                            <div class="col-lg-4 align-content-center">
                                <div style="margin-top: 5px">
                                    <label class="">Key</label>
                                    <input name="Key" class="form-control" placeholder="Enter the key"
                                           value="@ViewBag.key" pattern="^[А-Яа-яЁё]+$" oninput="this.setCustomValidity('')"
                                           oninvalid="this.setCustomValidity('The key must contain only Russian letters and consist of one word')" required/>
                                </div>
                                <div>
                                    <div class="form-check">
                                        <label class="form-check-label">
                                            <input class="form-check-input" name="IsEncrypted" value="true" type="radio" checked="checked">Decode
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <label class="form-check-label">
                                            <input class="form-check-input" name="IsEncrypted" value="false" type="radio">Encode
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 align-content-center">
                                <div style="margin-top: 5px; height: 100%">
                                    <label class="">New file name</label>
                                    <input name="FileName" class="form-control" placeholder="If empty, sets the original name"
                                           value="@ViewBag.name" pattern="[^\s^\\/:\x22*?<>|]+" oninput="this.setCustomValidity('')"
                                           oninvalid="this.setCustomValidity('Invalid file name')"/>
                                    <br>
                                    <input type="submit" class="btn btn-secondary" value="Calculate"/>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>

    </div>
</div>